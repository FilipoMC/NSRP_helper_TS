/* Optimized production build generated by CommandKit */
import {
  MPartnership
} from "./chunk-7AILDUPC.js";
import {
  getFirstDiscordInviteFromString
} from "./chunk-PGMA3JWT.js";
import {
  __name
} from "./chunk-4HQ2LG3N.js";

// src/subcommands/dev/action/src/fix-partnership-invites.ts
async function fix_partnership_invites_default({ client, interaction }) {
  await interaction.deferReply({ ephemeral: true });
  const partnerships = await MPartnership.find();
  for (const document of partnerships) {
    if (document.invite)
      continue;
    const invite = getFirstDiscordInviteFromString(document.ad);
    if (!invite)
      continue;
    await document.updateOne({ $set: { invite } });
  }
  await interaction.editReply("\u2705 Success!");
}
__name(fix_partnership_invites_default, "default");

export {
  fix_partnership_invites_default
};
