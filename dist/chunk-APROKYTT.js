/* Optimized production build generated by CommandKit */
import {
  MPartnership
} from "./chunk-7AILDUPC.js";
import {
  main
} from "./chunk-GSB7PNNP.js";
import {
  __name
} from "./chunk-4HQ2LG3N.js";

// src/subcommands/partner/src/resend-ad.ts
async function resend_ad_default({ interaction, client }) {
  await interaction.deferReply({ ephemeral: true });
  const id = interaction.options.getString("id");
  const document = await MPartnership.findOne({ logMessageID: id });
  if (!document) {
    interaction.followUp("\u274C Partnership not found.");
    return;
  }
  const partnerChannel = await client.channels.fetch(main.partnerChannel);
  if (!partnerChannel?.isTextBased())
    return;
  (await partnerChannel.messages.fetch(document.messageID)).delete().catch(() => null);
  const message = await partnerChannel.send(
    document.ad + `
\`\`\` \`\`\`
Rep: <@!${document.rep}>`
  );
  await document.updateOne({ $set: {
    messageID: message.id
  } });
  await interaction.followUp("\u2705 Success!");
}
__name(resend_ad_default, "default");

export {
  resend_ad_default
};
