/* Optimized production build generated by CommandKit */
import {
  MUserBlacklist
} from "./chunk-QJI4AMEY.js";
import {
  emojis
} from "./chunk-GSB7PNNP.js";
import {
  __name
} from "./chunk-4HQ2LG3N.js";

// src/subcommands/blacklist/src/ban.ts
import { isSnowflake } from "discord-snowflake";
async function ban_default({ client, interaction }) {
  await interaction.deferReply({ ephemeral: true });
  const discordID = interaction.options.getString("id");
  if (!isSnowflake(discordID)) {
    await interaction.followUp(`${emojis.red_cross} You have to put in a valid discord id.`);
    return;
  }
  const blacklist = await MUserBlacklist.findOne({ dc_user_id: discordID });
  if (!blacklist) {
    await interaction.followUp(`${emojis.red_cross} Blacklist not found.`);
    return;
  }
  const blacklistedBy = await client.users.fetch(blacklist.blacklisted_by) || blacklist.blacklisted_by;
  await interaction.guild?.bans.create(blacklist.dc_user_id, { reason: `Blacklisted by: ${blacklistedBy?.username || blacklistedBy}, reason: ${blacklist.reason}`, deleteMessageSeconds: 0 });
  await interaction.followUp(`${emojis.green_checkmark} Success!`);
}
__name(ban_default, "default");

export {
  ban_default
};
